<!DOCTYPE html>
<html lang="{{ current_locale.language.code }}"
      class="h-100">
    <head>
        {% for tag in meta.tags %}
            {{ tag }}
        {% endfor %}
        <link rel="preload"
              href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700&display=swap"
              as="style"
              onload="this.onload=null;this.rel='stylesheet';">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
              rel="stylesheet"
              integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
              crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">
        <link rel="stylesheet"
              href="https://cdn.quilljs.com/1.3.6/quill.snow.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
                crossorigin="anonymous"></script>
        <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
        {% pack 'js' %}
            <script src="{{ url_for('admin.static', filename='js/api/_base.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/billing.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/cart_item.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/cart.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/category_item.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/category.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/country.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/coupon.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/currency.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/email.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/language.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/order_payment.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/order_refund.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/order.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/product_link.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/product_media.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/product_option.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/product_sku.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/product_value.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/product.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/region.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/session.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/setting.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/shipment_class.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/shipment_method.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/shipment_zone.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/shipment.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/shipping.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/sku.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/user_activation.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/user_password.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/user.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/api/verification.js') }}"></script>
        {% endpack %}
        {% pack 'js' %}
            <script src="{{ url_for('admin.static', filename='js/utils/buttons.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/utils/messages.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/utils/nav.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/utils/parameters.js') }}"></script>
        {% endpack %}
        {% pack 'js' %}
            <script src="{{ url_for('admin.static', filename='js/route/_base.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/category_item.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/category.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/coupon.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/order.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_link.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_media.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_option.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_sku.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_value.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/setting.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/shipment_class.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/shipment_method.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/shipment_zone.js') }}"></script>
        {% endpack %}
    </head>
    <body class="h-100 w-100 d-flex flex-row">
        <nav id="sidebar"
             class="offcanvas offcanvas-start h-100 text-dark bg-secondary bg-opacity-25 flex-grow-0 flex-shrink-0"
             style="width: 220px;"
             tabindex="-1">
            <div class="offcanvas-header justify-content-center pb-0">
                <h5 class="offcanvas-title">
                    Admin Panel
                </h5>
            </div>
            <div class="offcanvas-body">
                <div class="h-100">
                    <ul class="nav nav-pills flex-column">
                        <li class="nav-item">
                            <a class="nav-link {{ 'active' if 'admin.orders' in request.endpoint }}"
                               href="{{ url_for("admin.orders") }}">
                                Orders
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {{ 'active' if 'admin.categories' in request.endpoint }}"
                               href="{{ url_for("admin.categories") }}">
                                Categories
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {{ 'active' if 'admin.product' in request.endpoint }}"
                               href="{{ url_for("admin.products") }}">
                                Products
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle {{ 'active' if 'admin.shipment' in request.endpoint }}"
                               href="#"
                               role="button"
                               data-bs-toggle="dropdown">
                                Shipments
                            </a>
                            <ul class="dropdown-menu ms-auto">
                                <li>
                                    <a class="dropdown-item"
                                       href="{{ url_for("admin.shipment_classes") }}">
                                        Classes
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item"
                                       href="{{ url_for("admin.shipment_zones") }}">
                                        Zones
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item"
                                       href="{{ url_for("admin.shipment_methods") }}">
                                        Methods
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {{ 'active' if 'admin.coupons' in request.endpoint }}"
                               href="{{ url_for("admin.coupons") }}">
                                Coupons
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {{ 'active' if 'admin.users' in request.endpoint }}"
                               href="{{ url_for("admin.users") }}">
                                Users
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link {{ 'active' if 'admin.setting' in request.endpoint }}"
                               href="{{ url_for("admin.setting") }}">
                                Settings
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="overflow-scroll flex-grow-1">
            <nav class="navbar navbar-dark bg-primary sticky-top">
                <div class="container-xxl px-4 px-lg-5 px-xl-4">
                    <button class="navbar-toggler d-block d-xl-none"
                            type="button"
                            onclick="toggleNav();">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <a class="navbar-brand"
                       href="{{ url_for("admin.orders") }}">
                        {{ config.WEBSITE_NAME }}
                    </a>
                    <div class="position-relative">
                        <a class="dropdown-toggle text-white text-decoration-none"
                            href="#"
                            role="button"
                            data-bs-toggle="dropdown">
                            Account
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                            <a class="dropdown-item disabled">
                                {{ current_user.email }}  
                                </a>          
                            </li>
                            <li>
                                <a class="dropdown-item"
                                href="#"
                                onclick="logoutUser();">
                                <i class="bi bi-box-arrow-right me-2"></i>
                                Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="container-xxl p-4 px-lg-5 px-xl-4">
                {% block admin_body %}
                {% endblock %}
            </div>
            {% include "admin_message.html" %}
        </div>
    </body>
</html>
