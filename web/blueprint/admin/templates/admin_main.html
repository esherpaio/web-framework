<!DOCTYPE html>
<html lang="{{ current_locale.language.code }}"
      class="h-100">
    <head>
        {% for tag in meta.tags %}
            {{ tag }}
        {% endfor %}
        <link rel="stylesheet"
              href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700&display=swap">
        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.snow.min.css">
        <link rel="stylesheet"
              href="https://web-framework.b-cdn.net/static/cbf3d0f6b6214b48d650991fab26bc0e.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/quill@1.3.7/dist/quill.min.js"></script>
        <script defer
                src="https://web-framework.b-cdn.net/static/5fcdd53d7a5a953625c11d80f1ce5657.js"></script>
    </head>
    <body class="h-100 w-100 d-flex flex-row">
        <nav id="sidebar"
             class="offcanvas offcanvas-start"
             tabindex="-1">
            <div class="offcanvas-header justify-content-center text-bg-secondary">
                <h5 class="offcanvas-title">
                    Admin Panel
                </h5>
            </div>
            <div class="offcanvas-body text-bg-light">
                <ul class="nav nav-pills flex-column">
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.orders', 'admin.order'] }}"
                           href="{{ url_for("admin.orders") }}">
                            <i class="bi bi-receipt-cutoff me-1"></i>
                            Orders
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.categories', 'admin.category'] }}"
                           href="{{ url_for("admin.categories") }}">
                            <i class="bi bi-tags me-1"></i>
                            Categories
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.products', 'admin.product', 'admin.product_options', 'admin.product_option', 'admin.product_media', 'admin.product_links', 'admin.product_skus'] }}"
                           href="{{ url_for("admin.products") }}">
                            <i class="bi bi-boxes me-1"></i>
                            Products
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle {{ 'active' if request.endpoint in ['admin.shipment_classes', 'admin.shipment_zones', 'admin.shipment_methods'] }}"
                           href="#"
                           role="button"
                           data-bs-toggle="dropdown">
                            <i class="bi bi-truck me-1"></i>
                            Shipments
                        </a>
                        <ul class="dropdown-menu ms-auto">
                            <li>
                                <a class="dropdown-item"
                                   href="{{ url_for("admin.shipment_classes") }}">Classes</a>
                            </li>
                            <li>
                                <a class="dropdown-item"
                                   href="{{ url_for("admin.shipment_zones") }}">Zones</a>
                            </li>
                            <li>
                                <a class="dropdown-item"
                                   href="{{ url_for("admin.shipment_methods") }}">Methods</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.coupons'] }}"
                           href="{{ url_for("admin.coupons") }}">
                            <i class="bi bi-ticket-perforated me-1"></i>
                            Coupons
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.users'] }}"
                           href="{{ url_for("admin.users") }}">
                            <i class="bi bi-people me-1"></i>
                            Users
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.countries'] }}"
                           href="{{ url_for("admin.countries") }}">
                            <i class="bi bi-flag me-1"></i>
                            Countries
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.setting'] }}"
                           href="{{ url_for("admin.setting") }}">
                            <i class="bi bi-gear-wide-connected me-1"></i>
                            Settings
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="flex-grow-1 overflow-auto">
            <nav class="navbar navbar-dark bg-primary sticky-top">
                <div class="container-xxl px-4 px-lg-5 px-xl-4">
                    <a class="d-block d-xl-none text-white fs-2"
                       href="#"
                       type="button"
                       data-bs-toggle="offcanvas"
                       data-bs-target="#sidebar">
                        <i class="bi bi-layout-sidebar-inset"></i>
                    </a>
                    <a class="navbar-brand fw-semibold"
                       href="{{ url_for(config.ENDPOINT_HOME) }}"
                       target="_blank">{{ config.WEBSITE_NAME }}</a>
                    <div class="position-relative">
                        <a class="d-block d-md-none text-white fs-2"
                           href="#"
                           role="button"
                           data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle"></i>
                        </a>
                        <a class="dropdown-toggle d-none d-md-block text-white text-decoration-none"
                           role="button"
                           data-bs-toggle="dropdown">
                            Account
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                                <a class="dropdown-item disabled">{{ current_user.email }}</a>
                            </li>
                            <li>
                                <a class="dropdown-item"
                                   href="#"
                                   onclick="logoutUser();"
                                   data-redirect="{{ url_for(config.ENDPOINT_HOME) }}">
                                    <i class="bi bi-box-arrow-right me-1"></i>
                                    Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="container-xxl p-3 p-sm-4 px-lg-5 px-xl-4">
                {% block admin_body %}
                {% endblock admin_body %}
            </div>
            {% include "admin_message.html" %}
        </div>
    </body>
</html>
