<!DOCTYPE html>
<html lang="{{ current_locale.language.code }}"
      class="h-100">
    <head>
        {% for tag in meta.tags %}
            {{ tag }}
        {% endfor %}
        <link rel="preload"
              href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700&display=swap"
              as="style"
              onload="this.onload=null;this.rel='stylesheet';">
        <link rel="stylesheet"
              href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css"
              as="style"
              onload="this.onload=null;this.rel='stylesheet';">
        {% pack 'css' %}
            <link rel="stylesheet"
                  href="{{ url_for('admin.static', filename='css/bootstrap.css') }}">
            <link rel="stylesheet"
                  href="{{ url_for('admin.static', filename='css/quill-snow.css') }}">
            <link rel="stylesheet"
                  href="{{ url_for('admin.static', filename='css/custom.css') }}">
        {% endpack %}
        {% pack 'js' %}
            <script src="{{ url_for('admin.static', filename='js/ext/bootstrap.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/ext/quill.js') }}"></script>
        {% endpack %}
        {% pack 'js' %}
            <script src="{{ url_for('admin.static', filename='js/api.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/buttons.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/data.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/endpoints.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/messages.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/parameters.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/category_item.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/category.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/coupon.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/order.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_link.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_media.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_option.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_sku.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product_value.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/product.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/session.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/setting.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/shipment_class.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/shipment_method.js') }}"></script>
            <script src="{{ url_for('admin.static', filename='js/route/shipment_zone.js') }}"></script>
        {% endpack %}
    </head>
    <body class="h-100 w-100 d-flex flex-row">
        <nav id="sidebar"
             class="offcanvas offcanvas-start"
             tabindex="-1">
            <div class="offcanvas-header justify-content-center text-bg-secondary">
                <h5 class="offcanvas-title">
                    Admin Panel
                </h5>
            </div>
            <div class="offcanvas-body text-bg-light">
                <ul class="nav nav-pills flex-column">
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.orders', 'admin.order'] }}"
                           href="{{ url_for("admin.orders") }}">Orders</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.categories', 'admin.category'] }}"
                           href="{{ url_for("admin.categories") }}">Categories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.products', 'admin.product', 'admin.product_option'] }}"
                           href="{{ url_for("admin.products") }}">Products</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle {{ 'active' if request.endpoint in ['admin.shipment_classes', 'admin.shipment_zones', 'admin.shipment_methods'] }}"
                           href="#"
                           role="button"
                           data-bs-toggle="dropdown">Shipments</a>
                        <ul class="dropdown-menu ms-auto">
                            <li>
                                <a class="dropdown-item"
                                   href="{{ url_for("admin.shipment_classes") }}">Classes</a>
                            </li>
                            <li>
                                <a class="dropdown-item"
                                   href="{{ url_for("admin.shipment_zones") }}">Zones</a>
                            </li>
                            <li>
                                <a class="dropdown-item"
                                   href="{{ url_for("admin.shipment_methods") }}">Methods</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.coupons'] }}"
                           href="{{ url_for("admin.coupons") }}">Coupons</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.users'] }}"
                           href="{{ url_for("admin.users") }}">Users</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {{ 'active' if request.endpoint in ['admin.setting'] }}"
                           href="{{ url_for("admin.setting") }}">Settings</a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="flex-grow-1 overflow-auto">
            <nav class="navbar navbar-dark bg-primary sticky-top">
                <div class="container-xxl px-4 px-lg-5 px-xl-4">
                    <button class="navbar-toggler d-block d-xl-none"
                            type="button"
                            data-bs-toggle="offcanvas"
                            data-bs-target="#sidebar">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <a class="navbar-brand fw-semibold"
                       href="{{ config.WEBSITE_URL }}"
                       target="_blank">{{ config.WEBSITE_NAME }}</a>
                    <div class="position-relative">
                        <a class="dropdown-toggle text-white text-decoration-none"
                           href="#"
                           role="button"
                           data-bs-toggle="dropdown">Account</a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li>
                                <a class="dropdown-item disabled">{{ current_user.email }}</a>
                            </li>
                            <li>
                                <a class="dropdown-item"
                                   href="#"
                                   onclick="logoutUser();"
                                   data-redirect="{{ config.WEBSITE_URL }}">
                                    <i class="bi bi-box-arrow-right me-1"></i>
                                    Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="container-xxl p-3 p-sm-4 px-lg-5 px-xl-4">
                {% block admin_body %}
                {% endblock %}
            </div>
            {% include "admin_message.html" %}
        </div>
    </body>
</html>
